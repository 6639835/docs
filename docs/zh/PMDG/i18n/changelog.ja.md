# 📝 更新履歴

Nav-data の重要な変更はすべてこのファイルに記録されています。

形式は [Keep a Changelog](https://keepachangelog.com/zh-CN/1.0.0/) に基づき、
プロジェクトは [セマンティック バージョニング](https://semver.org/lang/zh-CN/) に準拠しています。

## [未リリース] - 近日公開

### 🚀 追加
- 新しい視覚化データ検証レポート
- マルチスレッドによるデータベース書き込み最適化のサポート
- データ処理進捗監視の追加

### 🔧 改善
- メモリ使用量の最適化、より大きなデータセットのサポート
- エラーメッセージの可読性の向上
- 構成ファイル検証の強化

### 🐛 修正
- 空港名における特殊文字処理の問題を修正
- 並行処理時のデータ競合問題を解決

---

## [2.1.0] - 2024-12-24

### 🚀 新機能
- **スマート航路マージアルゴリズム** - 高度な航路データマージロジックを実装し、共通ウェイポイントの自動検出と不足区間のインテリジェントな挿入をサポート
- **データベース検証ツール** - `db_validator.py` を追加し、包括的なデータベース整合性チェックと品質レポートを提供
- **並行処理のサポート** - 大規模データセットのマルチスレッド処理により、処理速度が大幅に向上
- **磁気偏角計算の統合** - pygeomag ライブラリを統合し、正確な磁気偏角計算を提供
- **進捗監視** - tqdm プログレスバーを追加し、処理進捗をリアルタイムで表示

### 🔧 改善と最適化
- **メモリ管理の最適化** - バッチ処理メカニズムを実装し、メモリ使用量を大幅に削減
- **座標変換精度** - DMS から十進度への変換精度を小数点以下8桁に向上
- **エラー処理の強化** - より詳細なエラーログと例外処理メカニズム
- **データ検証の強化** - 座標範囲検証と ICAO コード形式チェックを追加
- **コードのモジュール化** - コード構造をリファクタリングし、保守性を向上

### 🐛 問題修正
- CSV ファイルのエンコーディング検出問題を修正し、Latin-1 エンコーディングを正しく処理
- 重複レコードによるデータベース制約の衝突を解決
- ウェイポイント座標の精度損失問題を修正
- 大容量ファイル処理時のメモリ不足問題を解決
- Windows パス区切り文字の互換性問題を修正

### 📚 ドキュメント更新
- 技術ドキュメントを完全に書き換え、詳細なアーキテクチャ説明を含む
- 完全なインストールおよび設定ガイドを追加
- トラブルシューティングとFAQセクションを新規追加
- APIドキュメントとコード例を更新

### 🔒 セキュリティ改善
- 入力パス検証を追加し、パス トラバーサル攻撃を防止
- SQL入力クリーンアップメカニズムを強化
- ファイル権限チェックを改善

---

## [2.0.0] - 2024-11-15

### 🚀 メジャーアップデート
- **完全にリファクタリングされたデータ処理エンジン** - ゼロから設計されたモジュール式アーキテクチャ
- **PMDG 777 のサポート** - PMDG 777-300ER および 777F へのサポートを拡張
- **新しいデータベースアーキテクチャ** - 最適化されたテーブル構造、より良いパフォーマンスと互換性
- **中国地域データ特別サポート** - 中国民間航空データに特化した最適化を実施

### 🔧 技術的改善
- **Python 3.8+ のサポート** - 最新の Python バージョンに更新
- **型アノテーション** - 型ヒントを全面的に追加し、コード品質を向上
- **非同期処理** - 非同期データ処理機能の導入
- **構成管理** - 新しい構成システム、YAML 構成ファイルをサポート

### 📊 データ処理の強化
- **複数データソースの統合** - NAIP、X-Plane、CIFP の複数のデータソースをサポート
- **座標システムの統一** - 標準化された座標変換と検証
- **データ品質保証** - 完全なデータ検証とクリーンアッププロセス

### 🛠️ ツール改善
- **コマンドラインインターフェースの最適化** - よりユーザーフレンドリーな CLI ツール
- **バッチ処理のサポート** - 複数のデータファイルのバッチ処理をサポート
- **ログシステムのアップグレード** - 構造化ログ、より良いデバッグサポート

### 💔 破壊的変更
- **最低 Python バージョン要件** - Python 3.8 以降のバージョンが必要
- **構成ファイル形式の変更** - 新しい YAML 構成形式
- **APIインターフェースのリファクタリング** - 一部の関数とクラスのインターフェースが変更
- **依存関係の更新** - 複数のコア依存パッケージを更新

### 🗑️ 削除された機能
- Python 2.7 のサポートを削除
- 古い XML 構成形式のサポートを削除
- 実験的なネットワークデータソース機能を削除

---

## [1.5.2] - 2024-10-10

### 🐛 修正
- AIRAC 2410 データ互換性の問題を修正
- PMDG 737-900 データベースパスの問題を解決
- ログファイルエンコーディングの問題を修正

### 🔧 改善
- データベース接続プール管理の最適化
- エラーメッセージの中国語表示を改善
- 空港名検索データベースを更新

---

## [1.5.1] - 2024-09-28

### 🐛 修正
- MSFS Steam バージョンパス検出を修正
- 滑走路方向計算精度の問題を解決
- 特殊文字による CSV 解析エラーを修正

### 📚 ドキュメント
- インストールガイドの MSFS パス説明を更新
- よくある問題の解決策を追加

---

## [1.5.0] - 2024-09-15

### 🚀 追加
- **AIRAC 2409 のサポート** - 最新の航空情報サイクルをサポート
- **滑走路データの強化** - 滑走路の表面タイプと勾配情報を追加
- **自動バックアップ機能** - 元のナビゲーションデータを自動的にバックアップ
- **データ検証レポート** - 詳細なデータ処理レポートを生成

### 🔧 改善
- 大規模空港データ処理速度の向上
- メモリ使用効率の最適化
- ユーザーインターフェースのフィードバック情報を改善

### 🐛 修正
- 高高度空港の標高データエラーを修正
- 特定の特殊空港の ICAO コード処理問題を解決
- 滑走路長の単位変換エラーを修正

---

## [1.4.1] - 2024-08-20

### 🐛 修正
- Windows 11 互換性の問題を修正
- データベースロックの問題を解決
- 中国語パス処理エラーを修正

### 🔧 改善
- 起動速度の向上
- エラーメッセージの最適化

---

## [1.4.0] - 2024-08-05

### 🚀 追加
- **多言語サポートの基盤** - 国際化フレームワークを追加
- **データエクスポート機能** - 複数の形式でのエクスポートをサポート
- **パフォーマンス監視** - 処理パフォーマンス統計を追加

### 🔧 改善
- **データベース最適化** - インデックス構造を再設計し、クエリ速度を40%向上
- **メモリ管理** - メモリ使用量を30%削減
- **ユーザーエクスペリエンス** - エラーヒントとステータス表示を改善

### 🐛 修正
- ウェイポイント重複問題を修正
- ILS 周波数精度問題を解決
- タイムゾーン処理エラーを修正

---

## [1.3.2] - 2024-07-12

### 🐛 修正
- PMDG 737 MAX シリーズの互換性を修正
- 夏時間による AIRAC 日付への影響を解決
- 特定のナビゲーション機器の周波数表示問題を修正

---

## [1.3.1] - 2024-06-28

### 🐛 修正
- macOS パス処理の問題を修正
- CSV ファイルの BOM マーク問題を解決
- 航路接続検証エラーを修正

### 🔧 改善
- ファイル読み取り速度の向上
- ログ出力形式の最適化

---

## [1.3.0] - 2024-06-15

### 🚀 追加
- **Linux のサポート** - Linux システムへのサポートを拡張
- **構成検証** - 構成ファイル構文チェックを追加
- **データ統計** - 詳細なデータ処理統計情報を生成

### 🔧 改善
- **クロスプラットフォーム互換性** - 異なるオペレーティングシステムの動作を統一
- **エラー回復** - データ処理のフォールトトレランスを強化
- **コード品質** - コアモジュールをリファクタリングし、コード品質を向上

### 🐛 修正
- 非ASCII文字処理の問題を修正
- 大容量ファイル処理のタイムアウト問題を解決
- データベーストランザクション処理エラーを修正

---

## [1.2.1] - 2024-05-20

### 🐛 修正
- AIRAC 日付計算エラーを修正
- 特定の空港の座標変換問題を解決
- 進捗表示の不正確な問題を修正

---

## [1.2.0] - 2024-05-05

### 🚀 追加
- **AIRAC 2405 のサポート** - 最新ナビゲーションデータサイクルをサポート
- **バッチ処理モード** - 複数のデータファイルの処理をサポート
- **データ差異検出** - 異なるバージョンのデータの差異を比較

### 🔧 改善
- **処理速度** - データ処理速度が25%向上
- **メモリ最適化** - 大規模データセットのメモリ使用量を最適化
- **ログ詳細度** - より詳細な処理ログを提供

### 🐛 修正
- 航路高度制限処理を修正
- VOR/DME 周波数重複問題を解決
- 空港標高データ精度を修正

---

## [1.1.2] - 2024-04-18

### 🐛 修正
- Windows ロングパスサポートの問題を修正
- 特殊文字エンコーディングエラーを解決
- データベース接続タイムアウト問題を修正

---

## [1.1.1] - 2024-04-05

### 🐛 修正
- PMDG 737-800 データベースパスの問題を修正
- ILS グライドスロープ角度計算エラーを解決
- 特定のウェイポイント欠落問題を修正

### 📚 ドキュメント
- インストールガイドを更新
- トラブルシューティングセクションを追加

---

## [1.1.0] - 2024-03-22

### 🚀 追加
- **STAR プロシージャのサポート** - 標準ターミナルアライバルプロシージャ処理を追加
- **アプローチプロシージャ** - 計器進入プロシージャデータをサポート
- **データ検証の強化** - より厳格なデータ整合性チェック

### 🔧 改善
- **SID プロシージャの最適化** - 標準計器出発プロシージャ処理を改善
- **座標精度** - 座標計算精度を向上
- **エラー処理** - より良いエラー情報と回復メカニズム

### 🐛 修正
- NDB 周波数範囲検証を修正
- 航路接続切断問題を解決
- 滑走路磁方位計算を修正

---

## [1.0.0] - 2024-03-01

### 🎉 初回正式リリース

#### 🚀 コア機能
- **PMDG 737 シリーズの完全サポート** - すべての PMDG 737 バリアントをサポート
- **完全なナビゲーションデータ変換** - 空港、滑走路、ナビゲーション機器、航路データ
- **中国地域に最適化** - 中国民間航空データに特化して最適化
- **AIRAC 2403 のサポート** - 2024年3月の航空情報サイクルをサポート

#### 🛠️ 技術的特徴
- **SQLite データベース** - PMDG 互換のデータベース形式
- **複数データソースのサポート** - NAIP および X-Plane データソースをサポート
- **自動処理** - ワンクリックデータ変換プロセス
- **データ検証** - 完全なデータ品質チェック

#### 📊 サポートされるデータタイプ
- 空港基本情報 (ICAO コード、座標、名称)
- 滑走路データ (長さ、幅、方向、表面)
- VOR/DME ナビゲーション機器
- NDB ナビゲーションビーコン
- ウェイポイントと航路ネットワーク
- ILS 計器着陸システム

#### 🎯 サポートされる航空機
- PMDG 737-600
- PMDG 737-700
- PMDG 737-800
- PMDG 737-900

#### 🌍 サポートされる地域
- 中国大陸 (ICAO コード ZB, ZG, ZS, ZJ, ZY, ZL, ZH, ZU, ZP, ZW)

---

## バージョン計画

### 🔮 将来のバージョン計画

#### v2.2.0 (2025年 第1四半期 予定)
- **iniBuilds 航空機のサポート** - iniBuilds シリーズ航空機へのサポートを拡張
- **リアルタイムデータ更新** - オンライン AIRAC データ更新をサポート
- **グラフィカルユーザーインターフェース** - デスクトップ GUI アプリケーションを追加
- **クラウドデータソース** - クラウドデータソースの統合をサポート

#### v2.3.0 (2025年 第2四半期 予定)
- **グローバルデータサポート** - ナビゲーションデータを世界規模に拡張
- **カスタムプラグインシステム** - サードパーティプラグイン開発をサポート
- **データ分析ツール** - データ分析と視覚化を内蔵
- **REST API** - Web API インターフェースを提供

#### v3.0.0 (2025年 第4四半期 予定)
- **次世代アーキテクチャ** - マイクロサービスベースの分散アーキテクチャ
- **機械学習による最適化** - インテリジェントなデータ処理と最適化
- **マルチシミュレーターサポート** - P3D、FSX など他のシミュレーターをサポート
- **エンタープライズ機能** - 高可用性、ロードバランシングなどのエンタープライズ機能

---

## 📋 更新に関する注意

### 🔖 バージョン番号規則
セマンティック バージョニング (SemVer) を使用しています：
- **メジャーバージョン** (X.y.z) - 非互換の API 変更
- **マイナーバージョン** (x.Y.z) - 下位互換性のある機能の追加
- **パッチバージョン** (x.y.Z) - 下位互換性のある問題修正

### 🏷️ 変更タイプの説明
- 🚀 **追加 (Added)** - 新機能
- 🔧 **改善 (Changed)** - 既存機能の変更
- 🗑️ **非推奨 (Deprecated)** - 削除予定の機能
- 🗑️ **削除 (Removed)** - 削除された機能
- 🐛 **修正 (Fixed)** - 問題修正
- 🔒 **セキュリティ (Security)** - セキュリティ関連の修正

### 📅 リリースサイクル
- **メジャーバージョン** - 年に1〜2回の大規模な更新
- **マイナーバージョン** - 四半期ごとの機能更新
- **パッチバージョン** - 必要に応じてバグ修正をリリース

### 🔗 更新の入手方法
- **GitHub Releases** - 最新バージョンと詳細な変更履歴を入手
- **自動通知** - リリース通知を購読して、いち早く更新情報を入手
- **ベータテスト** - ベータテストプログラムに参加して新機能を体験

---

**注**: 特定のバージョンの詳細な変更を確認するには、[GitHub Releases](https://github.com/Nav-data/releases) ページにアクセスしてください。