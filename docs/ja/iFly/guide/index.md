# 🛫 iFly ナビゲーションデータ変換ツール ユーザーガイド

iFly ナビゲーションデータ変換ツールは、Fenix A320 ナビゲーションデータベースを iFly 737 MAX 8 ナビゲーションデータベース形式に変換するために特別に設計された、プロフェッショナルな航空ナビゲーションデータ変換ツールです。本ツールは、モダンなCLIインターフェースと高精度なデータ処理能力を備えています。

## 📖 クイックツアー

### 🎯 主要機能
- **🎨 モダンなインターフェース** - Rich ライブラリをベースとしたカラーターミナルインターフェース、リアルタイムの進捗表示
- **🧭 高精度磁気偏角** - pygeomag の WMM-2025 地磁気モデルを使用したローカル計算
- **📅 スマートなAIRAC管理** - 航空情報改訂サイクルの動的な計算と管理
- **⚡ 性能最適化** - 並行処理とメモリ最適化、大規模なデータファイルをサポート
- **🛡️ エンタープライズ品質** - 完全な型ヒント、エラー処理、テストカバレッジ

### ✈️ サポートされている航空機モデル
- **iFly 737 MAX 8** - Microsoft Flight Simulator の高忠実度 Boeing 737 MAX 8
- **データソース** - Fenix A320 ナビゲーションデータベース (nd.db3)
- **航空路データ** - NAIP RTE_SEG.csv 中国民間航空路セグメントデータ

### 📊 データタイプ対応
- **🛣️ 航空路データ** - 高高度/低高度航空路、ウェイポイント座標、磁気偏角
- **🏢 ターミナルプロシージャ** - SID、STAR、アプローチプロシージャ、デパーチャープロシージャ
- **🧭 航法装置** - VOR/DME、NDB、ILS データ
- **📅 AIRACサイクル** - データ有効期間の自動計算と管理

## 🚀 クイックスタート

### 1️⃣ システム要件の確認
```bash
# Python バージョンの確認 (3.8以降が必要)
python --version

# 利用可能メモリの確認 (4GB以上を推奨)
# Windows: タスクマネージャー → パフォーマンス → メモリ
# macOS: アクティビティモニタ → メモリ
# Linux: free -h
```

### 2️⃣ 必要なファイルの準備
- ✅ **Fenix ナビゲーションデータベース** (`nd.db3`)
  ```
  %APPDATA%\Microsoft Flight Simulator\Packages\fenix-a320\SimObjects\Airplanes\FenixA320\navdata\nd.db3
  ```
- ✅ **NAIP 航空路データ** (`RTE_SEG.csv`)
  - 中国民間航空データサービスウェブサイトから取得
  - ファイルエンコーディングがUTF-8であることを確認してください
- ✅ **iFly 737 MAX 8** がMSFSにインストールされていること

### 3️⃣ クイックインストールと実行
```bash
# 1. 依存関係パッケージをインストール
pip install rich pathlib typing pygeomag pandas tqdm geographiclib

# 2. 変換ツールを実行
python main.py

# 3. 画面の指示に従って操作
# → Fenix データベースファイルを選択
# → NAIP CSV ファイルを選択
# → ターミナルプロシージャID範囲を設定
# → 変換完了まで待機
```

## 📚 ドキュメントナビゲーション

### 🚀 基本的な使い方
1.  **[インストールガイド](installation.md)** - 環境設定と依存関係のインストール詳細
    - Python環境設定
    - 依存関係パッケージのインストール
    - システム要件の検証
    - よくあるインストール問題の解決

2.  **[設定説明](configuration.md)** - 設定ファイルとパラメータの詳細
    - 変換ツール設定オプション
    - パス設定ガイド
    - AIRACサイクル設定
    - 性能最適化パラメータ

3.  **[使用説明](usage.md)** - 完全な操作手順と例
    - 対話型操作ガイド
    - バッチ処理方法
    - データ検証手順
    - 出力ファイル説明

### 🆘 ヘルプとサポート
- **[よくある質問](../faq.md)** - ユーザーが最も関心のある質問への回答
- **[トラブルシューティング](../troubleshooting.md)** - 問題診断と解決策

### 🔧 高度な内容
- **[技術アーキテクチャ](../architecture.md)** - システム設計と動作原理
- **[貢献ガイドライン](../contributing.md)** - 開発への参加とコード規約
- **[更新履歴](../changelog.md)** - バージョン履歴と新機能
- **[ライセンス情報](../license.md)** - 利用規約と法的説明

## 🎨 インターフェースプレビュー

### ウェルカム画面
```
╔═══════════════════════════════════════ 🛩️  航空ナビゲーションデータ変換ツール  ✈️ ═══════════════════════════════════════╗
║                                                                                                          ║
║                                      FenixからiFlyへの航空ナビゲーションデータ変換ツール                                       ║
║                                          高品質でモダンな変換体験                                         ║
║                                                                                                          ║
╚═══════════════════════════════════════ Powered by Rich • バージョン 2.0 ═══════════════════════════════════════╝
```

### 進捗表示
```
╭─────────────────────────────────────────────── 🔄 航空路データを処理中 ────────────────────────────────────────────────╮
│ 磁気偏角を計算中...                                                                                            │
│ ████████████████████████████████████████ 1,247/1,500 (83%) 0:02:15                                        │
╰──────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
```

### 完了概要
```
┌─────────────────────────────────────────── ✅ 変換完了 ───────────────────────────────────────────────┐
│                                                                                                        │
│  🛣️  航空路データ: 1,500個のウェイポイントが処理されました                                                                    │
│  🏢  ターミナルプロシージャ: 245個のプロシージャが変換されました                                                                         │
│  📅  AIRACサイクル: 2508 (有効期限: 2025-02-27)                                                             │
│  📁  出力先: Community\ifly-aircraft-737max8\Data\navdata\                                            │
│                                                                                                        │
└────────────────────────────────────────────────────────────────────────────────────────────────────────┘
```

## ⚠️ 重要事項

### データコンプライアンス
本ツールはフライトシミュレーションのみを目的としており、ご使用の際は関連法規を遵守していることを確認してください：
- **🎯 シミュレーション専用** - 実際の航空ナビゲーションでの使用は固く禁じられています
- **📋 規約の遵守** - データソースの合法性を確認してください
- **🔒 非商用目的** - 個人の学習および娯楽目的のみに使用してください

### 技術要件
- **🐍 Python 3.8以降** - Python 3.9以降の使用を推奨
- **💾 メモリ要件** - 4GB RAM以上（8GBを推奨）
- **💿 ストレージ容量** - 500MB以上の空き容量
- **🖥️ オペレーティングシステム** - Windows 10/11, macOS 10.15+, Linux

### データセキュリティ
- **💾 元データのバックアップ** - 変換前にiFlyの元ナビゲーションデータをバックアップしてください
- **🔍 結果の検証** - 変換後、シミュレーターでデータの正確性を検証してください
- **📅 定期更新** - AIRACデータは28日ごとに更新することをお勧めします
- **🔒 権限管理** - プログラムに十分なファイル書き込み権限があることを確認してください

## 🎯 ユースケース

### 🎓 フライトシミュレーション愛好家
- **✈️ エクスペリエンスの向上** - より正確な中国空域ナビゲーションデータを取得
- **🎮 リアルなフライト** - 実際の航空路に基づいたフライトプロシージャを体験
- **📚 学習ツール** - 現代の航空ナビゲーションシステムを理解

### 👨‍🏫 航空教育
- **🎓 トレーニング用途** - 正確な教育用ナビゲーションデータを提供
- **📊 標準化** - 国際民間航空機関 (ICAO) の基準に準拠
- **🔄 リアルタイム更新** - 最新のAIRACサイクルデータに基づいています

### 👨‍💻 開発者
- **🔧 APIリファレンス** - 明確なコード構造とドキュメント
- **🧩 モジュール化** - 拡張およびカスタマイズが容易な設計
- **🧪 テストの充実** - 完全なテストカバレッジと品質保証

## 🆘 ヘルプの取得

ご利用中に問題が発生した場合は：

1.  **📚 ドキュメントを参照** - まず関連セクションの詳細説明を確認してください
2.  **🔍 ログを確認** - 生成された `converter.log` ファイルを確認してください
3.  **🧪 環境を検証** - 内蔵の検証ツールを使用してシステム設定を確認してください
4.  **💬 コミュニティサポート** - GitHub Issuesで問題を報告するか、議論に参加してください

### クイック診断コマンド
```bash
# Python 環境の確認
python --version
python -c "import rich, pandas, pygeomag; print('全ての依存関係がインストールされています')"

# ファイル権限の検証
ls -la /path/to/ifly/navdata/

# 最新のログを確認
tail -n 50 converter.log
```

---

**次のステップ**: [インストールガイド](installation.md) に進んで開発環境の設定を開始するか、[使用説明](usage.md) を直接参照してすぐに使い始めましょう！🚀